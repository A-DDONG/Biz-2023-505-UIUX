<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <script src="//code.jquery.com/jquery-3.3.1.min.js"></script>
  <script
    defer
    src="https://use.fontawesome.com/releases/v5.15.2/js/all.js"
    integrity="sha384-vuFJ2JiSdUpXLKGK+tDteQZBqNlMwAjhZ3TvPaDfN9QmbPb7Q8qUpbSNapQev3YF"
    crossorigin="anonymous"
  ></script>
  <script type="text/javascript">
    $(document).ready(function () {
      let weatherIcon = {
        "01": "fas fa-sun",
        "02": "fas fa-cloud-sun",
        "03": "fas fa-cloud",
        "04": "fas fa-cloud-meatball",
        "09": "fas fa-cloud-sun-rain",
        10: "fas fa-cloud-showers-heavy",
        11: "fas fa-poo-storm",
        13: "far fa-snowflake",
        50: "fas fa-smog",
      };

      $.ajax({
        url: "https://api.openweathermap.org/data/2.5/weather?q=damyang&appid=6cf9a99f768ce493e58c351ccf43588a&lang=kr&units=metric",

        dataType: "json",
        type: "GET",
        success: function (data) {
          var $Icon = data.weather[0].icon.substr(0, 2);
          var $Temp = Math.floor(data.main.temp) + "ยบ";
          var $city = data.name;

          $(".CurrIcon").append('<i class="' + weatherIcon[$Icon] + '"></i>');
          $(".CurrTemp").prepend($Temp);
          $(".City").append($city);
        },
      });
    });
  </script>

  <body>
    <div class="weather">
      <div class="CurrIcon"></div>
      <div class="CurrTemp"></div>
      <div class="City"></div>
    </div>
  </body>
</html>
